webpackJsonp([4],{248:function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _index = __webpack_require__(21);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = __webpack_require__(17);\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _react2 = __webpack_require__(5);\n\nvar _react3 = _interopRequireDefault(_react2);\n\nvar _index5 = __webpack_require__(18);\n\nvar _index6 = _interopRequireDefault(_index5);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRouter = __webpack_require__(39);\n\nvar _reactRedux = __webpack_require__(24);\n\nvar _Tool = __webpack_require__(29);\n\nvar _modules = __webpack_require__(36);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _components = {\n    List: {\n        displayName: 'List'\n    },\n    ListItem: {\n        displayName: 'ListItem'\n    },\n    DetailItem: {\n        displayName: 'DetailItem'\n    },\n    Main: {\n        displayName: 'Main'\n    }\n};\n\nvar _mygitPxqNode_modulesReactTransformHmrLibIndexJs2 = (0, _index6.default)({\n    filename: '/mygit/pxq/src/Component/applyRecord.jsx',\n    components: _components,\n    locals: [module],\n    imports: [_react3.default]\n});\n\nvar _mygitPxqNode_modulesReactTransformCatchErrorsLibIndexJs2 = (0, _index4.default)({\n    filename: '/mygit/pxq/src/Component/applyRecord.jsx',\n    components: _components,\n    locals: [],\n    imports: [_react3.default, _index2.default]\n});\n\nfunction _wrapComponent(id) {\n    return function (Component) {\n        return _mygitPxqNode_modulesReactTransformHmrLibIndexJs2(_mygitPxqNode_modulesReactTransformCatchErrorsLibIndexJs2(Component, id), id);\n    };\n}\n\nvar List = _wrapComponent('List')(function (_Component) {\n    _inherits(List, _Component);\n\n    function List() {\n        _classCallCheck(this, List);\n\n        return _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).apply(this, arguments));\n    }\n\n    _createClass(List, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !(this.props === nextProps) || !(this.state === nextState);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react3.default.createElement(\n                'div',\n                null,\n                _react3.default.createElement(\n                    'ul',\n                    null,\n                    this.props.list.map(function (item, index) {\n                        return _react3.default.createElement(ListItem, _extends({ key: index, index: index }, item));\n                    })\n                )\n            );\n        }\n    }]);\n\n    return List;\n}(_react2.Component));\n\nvar ListItem = _wrapComponent('ListItem')(function (_Component2) {\n    _inherits(ListItem, _Component2);\n\n    function ListItem() {\n        _classCallCheck(this, ListItem);\n\n        var _this2 = _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).call(this));\n\n        _this2.state = {\n            showlist: false\n        };\n\n        _this2.changeshowlist = function () {\n            var showlist = !_this2.state.showlist;\n            _this2.setState({ showlist: showlist });\n        };\n\n        return _this2;\n    }\n\n    _createClass(ListItem, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            if (this.props.index == 0) {\n                this.state.showlist = true;\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !(this.props === nextProps) || !(this.state === nextState);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props;\n            var month = _props.month;\n            var totalMoney = _props.totalMoney;\n            var applyList = _props.applyList;\n            var index = _props.index;\n\n            var showList = this.state.showlist;\n            if (!showList) {\n                totalMoney = _react3.default.createElement(\n                    'span',\n                    { className: 'right' },\n                    '\\xA5 ',\n                    totalMoney\n                );\n            } else {\n                totalMoney = null;\n            }\n            return _react3.default.createElement(\n                'li',\n                { className: 'apply_item' },\n                _react3.default.createElement(\n                    'header',\n                    { className: 'apply_month clear', onClick: this.changeshowlist },\n                    _react3.default.createElement(\n                        'span',\n                        { className: 'left' },\n                        month\n                    ),\n                    totalMoney\n                ),\n                showList ? _react3.default.createElement(\n                    'ul',\n                    { className: 'detail_ul' },\n                    this.props.applyList.map(function (item, index) {\n                        return _react3.default.createElement(DetailItem, _extends({ key: index }, item));\n                    })\n                ) : null\n            );\n        }\n    }]);\n\n    return ListItem;\n}(_react2.Component));\n\nvar DetailItem = _wrapComponent('DetailItem')(function (_Component3) {\n    _inherits(DetailItem, _Component3);\n\n    function DetailItem() {\n        _classCallCheck(this, DetailItem);\n\n        var _this3 = _possibleConstructorReturn(this, (DetailItem.__proto__ || Object.getPrototypeOf(DetailItem)).call(this));\n\n        _this3.state = {};\n\n        return _this3;\n    }\n\n    _createClass(DetailItem, [{\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props;\n            var startTime = _props2.startTime;\n            var endTime = _props2.endTime;\n            var applyMoney = _props2.applyMoney;\n            var status = _props2.status;\n\n            return _react3.default.createElement(\n                'li',\n                { className: 'apply_detail_item ' + (status == 1 ? 'complete' : 'notcomplete') },\n                _react3.default.createElement(\n                    'div',\n                    { className: 'status_detail' },\n                    _react3.default.createElement('div', null),\n                    _react3.default.createElement('div', null),\n                    _react3.default.createElement('div', null),\n                    _react3.default.createElement('div', null),\n                    _react3.default.createElement('div', null),\n                    _react3.default.createElement('div', null)\n                ),\n                _react3.default.createElement(\n                    'div',\n                    { className: 'descript' },\n                    _react3.default.createElement(\n                        'div',\n                        null,\n                        '\\u7533\\u8BF7\\u65F6\\u95F4'\n                    ),\n                    _react3.default.createElement(\n                        'div',\n                        null,\n                        '\\u7533\\u8BF7\\u5904\\u7406\\u4E2D'\n                    ),\n                    _react3.default.createElement(\n                        'div',\n                        null,\n                        '\\u5230\\u8D26\\u65F6\\u95F4'\n                    )\n                ),\n                _react3.default.createElement(\n                    'div',\n                    { className: 'apply_time' },\n                    _react3.default.createElement(\n                        'div',\n                        null,\n                        startTime\n                    ),\n                    _react3.default.createElement(\n                        'div',\n                        null,\n                        '\\u91D1\\u989D',\n                        _react3.default.createElement(\n                            'span',\n                            null,\n                            applyMoney\n                        ),\n                        '\\u5143'\n                    ),\n                    _react3.default.createElement(\n                        'div',\n                        null,\n                        endTime\n                    )\n                )\n            );\n        }\n    }]);\n\n    return DetailItem;\n}(_react2.Component));\n\nvar Main = _wrapComponent('Main')(function (_Component4) {\n    _inherits(Main, _Component4);\n\n    function Main(props) {\n        _classCallCheck(this, Main);\n\n        var _this4 = _possibleConstructorReturn(this, (Main.__proto__ || Object.getPrototypeOf(Main)).call(this, props));\n\n        _this4.state = {\n            recordList: []\n        };\n\n        return _this4;\n    }\n\n    _createClass(Main, [{\n        key: 'componentWillUpdate',\n        value: function componentWillUpdate(nextProps, nextState) {\n            var _this5 = this;\n\n            if (this.props !== nextProps) {\n                var newDate = new Date();\n                var nowTime = newDate.getFullYear() + '-' + (newDate.getMonth() + 1);\n                var data = nextProps.state.data;\n                if (data && data.data && data.data.balance_list) {\n                    (function () {\n                        var num = 0;\n                        var inform = data.data.balance_list;\n                        for (var key in inform) {\n                            _this5.state.recordList[num] = {};\n                            if (key == nowTime) {\n                                _this5.state.recordList[num]['month'] = '本月';\n                            } else {\n                                _this5.state.recordList[num]['month'] = key.replace('-', '年') + '月';\n                            }\n                            _this5.state.recordList[num]['totalMoney'] = inform[key].month_money;\n                            _this5.state.recordList[num]['applyList'] = [];\n                            inform[key].data.forEach(function (item, index) {\n                                _this5.state.recordList[num]['applyList'][index] = {};\n                                var start = item.created_at.split(':');\n                                _this5.state.recordList[num]['applyList'][index]['startTime'] = start[0] + ':' + start[1];\n                                _this5.state.recordList[num]['applyList'][index]['endTime'] = item.to_account_time.split(' ')[0];\n                                _this5.state.recordList[num]['applyList'][index]['applyMoney'] = item.money;\n                                _this5.state.recordList[num]['applyList'][index]['status'] = item.to_account_status;\n                            });\n                        }\n                        num++;\n                    })();\n                }\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !(this.props === nextProps) || !(this.state === nextState);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react3.default.createElement(\n                'div',\n                { className: 'apply_container component_container' },\n                _react3.default.createElement(_modules.Header, { goback: true, title: '\\u63D0\\u73B0\\u8BB0\\u5F55' }),\n                this.state.recordList.length > 0 ? _react3.default.createElement(List, { list: this.state.recordList }) : _react3.default.createElement(\n                    'div',\n                    null,\n                    _react3.default.createElement('div', { className: 'empty_img' }),\n                    _react3.default.createElement(\n                        'div',\n                        { className: 'empty_text' },\n                        '\\u7A77\\u9B3C\\uFF0C\\u8FD8\\u4E0D\\u5FEB\\u53BB\\u5356\\u8D27\\uFF01'\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Main;\n}(_react2.Component));\n\nexports.default = (0, _modules.template)({\n    id: 'applyRecord', //应用关联使用的redux\n    component: Main, //接收数据的组件入口\n    url: '/balance/balance/lists',\n    data: function data() {\n        //发送给服务器的数据\n        return {\n            year: 2016\n        };\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudC9hcHBseVJlY29yZC5qc3g/YzQxNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pbmRleCA9IHJlcXVpcmUoJy9teWdpdC9weHEvbm9kZV9tb2R1bGVzL3JlZGJveC1yZWFjdC9saWIvaW5kZXguanMnKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbnZhciBfaW5kZXgzID0gcmVxdWlyZSgnL215Z2l0L3B4cS9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNmb3JtLWNhdGNoLWVycm9ycy9saWIvaW5kZXguanMnKTtcblxudmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleDMpO1xuXG52YXIgX3JlYWN0MiA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QyKTtcblxudmFyIF9pbmRleDUgPSByZXF1aXJlKCcvbXlnaXQvcHhxL25vZGVfbW9kdWxlcy9yZWFjdC10cmFuc2Zvcm0taG1yL2xpYi9pbmRleC5qcycpO1xuXG52YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4NSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3RSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKTtcblxudmFyIF9yZWFjdFJlZHV4ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKTtcblxudmFyIF9Ub29sID0gcmVxdWlyZSgnLi4vQ29uZmlnL1Rvb2wnKTtcblxudmFyIF9tb2R1bGVzID0gcmVxdWlyZSgnLi9jb21tb24vbW9kdWxlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBfY29tcG9uZW50cyA9IHtcbiAgICBMaXN0OiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiAnTGlzdCdcbiAgICB9LFxuICAgIExpc3RJdGVtOiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiAnTGlzdEl0ZW0nXG4gICAgfSxcbiAgICBEZXRhaWxJdGVtOiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiAnRGV0YWlsSXRlbSdcbiAgICB9LFxuICAgIE1haW46IHtcbiAgICAgICAgZGlzcGxheU5hbWU6ICdNYWluJ1xuICAgIH1cbn07XG5cbnZhciBfbXlnaXRQeHFOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUhtckxpYkluZGV4SnMyID0gKDAsIF9pbmRleDYuZGVmYXVsdCkoe1xuICAgIGZpbGVuYW1lOiAnL215Z2l0L3B4cS9zcmMvQ29tcG9uZW50L2FwcGx5UmVjb3JkLmpzeCcsXG4gICAgY29tcG9uZW50czogX2NvbXBvbmVudHMsXG4gICAgbG9jYWxzOiBbbW9kdWxlXSxcbiAgICBpbXBvcnRzOiBbX3JlYWN0My5kZWZhdWx0XVxufSk7XG5cbnZhciBfbXlnaXRQeHFOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUNhdGNoRXJyb3JzTGliSW5kZXhKczIgPSAoMCwgX2luZGV4NC5kZWZhdWx0KSh7XG4gICAgZmlsZW5hbWU6ICcvbXlnaXQvcHhxL3NyYy9Db21wb25lbnQvYXBwbHlSZWNvcmQuanN4JyxcbiAgICBjb21wb25lbnRzOiBfY29tcG9uZW50cyxcbiAgICBsb2NhbHM6IFtdLFxuICAgIGltcG9ydHM6IFtfcmVhY3QzLmRlZmF1bHQsIF9pbmRleDIuZGVmYXVsdF1cbn0pO1xuXG5mdW5jdGlvbiBfd3JhcENvbXBvbmVudChpZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBfbXlnaXRQeHFOb2RlX21vZHVsZXNSZWFjdFRyYW5zZm9ybUhtckxpYkluZGV4SnMyKF9teWdpdFB4cU5vZGVfbW9kdWxlc1JlYWN0VHJhbnNmb3JtQ2F0Y2hFcnJvcnNMaWJJbmRleEpzMihDb21wb25lbnQsIGlkKSwgaWQpO1xuICAgIH07XG59XG5cbnZhciBMaXN0ID0gX3dyYXBDb21wb25lbnQoJ0xpc3QnKShmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhMaXN0LCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExpc3QoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExpc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMaXN0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKExpc3QsIFt7XG4gICAgICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiAhKHRoaXMucHJvcHMgPT09IG5leHRQcm9wcykgfHwgISh0aGlzLnN0YXRlID09PSBuZXh0U3RhdGUpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICd1bCcsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW0sIF9leHRlbmRzKHsga2V5OiBpbmRleCwgaW5kZXg6IGluZGV4IH0sIGl0ZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIExpc3Q7XG59KF9yZWFjdDIuQ29tcG9uZW50KSk7XG5cbnZhciBMaXN0SXRlbSA9IF93cmFwQ29tcG9uZW50KCdMaXN0SXRlbScpKGZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICAgIF9pbmhlcml0cyhMaXN0SXRlbSwgX0NvbXBvbmVudDIpO1xuXG4gICAgZnVuY3Rpb24gTGlzdEl0ZW0oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0SXRlbSk7XG5cbiAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0SXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RJdGVtKSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMyLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvd2xpc3Q6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMyLmNoYW5nZXNob3dsaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNob3dsaXN0ID0gIV90aGlzMi5zdGF0ZS5zaG93bGlzdDtcbiAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IHNob3dsaXN0OiBzaG93bGlzdCB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMaXN0SXRlbSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluZGV4ID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNob3dsaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuICEodGhpcy5wcm9wcyA9PT0gbmV4dFByb3BzKSB8fCAhKHRoaXMuc3RhdGUgPT09IG5leHRTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBtb250aCA9IF9wcm9wcy5tb250aDtcbiAgICAgICAgICAgIHZhciB0b3RhbE1vbmV5ID0gX3Byb3BzLnRvdGFsTW9uZXk7XG4gICAgICAgICAgICB2YXIgYXBwbHlMaXN0ID0gX3Byb3BzLmFwcGx5TGlzdDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IF9wcm9wcy5pbmRleDtcblxuICAgICAgICAgICAgdmFyIHNob3dMaXN0ID0gdGhpcy5zdGF0ZS5zaG93bGlzdDtcbiAgICAgICAgICAgIGlmICghc2hvd0xpc3QpIHtcbiAgICAgICAgICAgICAgICB0b3RhbE1vbmV5ID0gX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdyaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgJ1xceEE1ICcsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsTW9uZXlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b3RhbE1vbmV5ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYXBwbHlfaXRlbScgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYXBwbHlfbW9udGggY2xlYXInLCBvbkNsaWNrOiB0aGlzLmNoYW5nZXNob3dsaXN0IH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdsZWZ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxNb25leVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgc2hvd0xpc3QgPyBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXRhaWxfdWwnIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYXBwbHlMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChEZXRhaWxJdGVtLCBfZXh0ZW5kcyh7IGtleTogaW5kZXggfSwgaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIExpc3RJdGVtO1xufShfcmVhY3QyLkNvbXBvbmVudCkpO1xuXG52YXIgRGV0YWlsSXRlbSA9IF93cmFwQ29tcG9uZW50KCdEZXRhaWxJdGVtJykoZnVuY3Rpb24gKF9Db21wb25lbnQzKSB7XG4gICAgX2luaGVyaXRzKERldGFpbEl0ZW0sIF9Db21wb25lbnQzKTtcblxuICAgIGZ1bmN0aW9uIERldGFpbEl0ZW0oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZXRhaWxJdGVtKTtcblxuICAgICAgICB2YXIgX3RoaXMzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERldGFpbEl0ZW0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEZXRhaWxJdGVtKSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMzLnN0YXRlID0ge307XG5cbiAgICAgICAgcmV0dXJuIF90aGlzMztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRGV0YWlsSXRlbSwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBfcHJvcHMyLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIHZhciBlbmRUaW1lID0gX3Byb3BzMi5lbmRUaW1lO1xuICAgICAgICAgICAgdmFyIGFwcGx5TW9uZXkgPSBfcHJvcHMyLmFwcGx5TW9uZXk7XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gX3Byb3BzMi5zdGF0dXM7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYXBwbHlfZGV0YWlsX2l0ZW0gJyArIChzdGF0dXMgPT0gMSA/ICdjb21wbGV0ZScgOiAnbm90Y29tcGxldGUnKSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzdGF0dXNfZGV0YWlsJyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG51bGwpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGVzY3JpcHQnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTc1MzNcXHU4QkY3XFx1NjVGNlxcdTk1RjQnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTc1MzNcXHU4QkY3XFx1NTkwNFxcdTc0MDZcXHU0RTJEJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHU1MjMwXFx1OEQyNlxcdTY1RjZcXHU5NUY0J1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYXBwbHlfdGltZScgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx1OTFEMVxcdTk4OUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlNb25leVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHU1MTQzJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGV0YWlsSXRlbTtcbn0oX3JlYWN0Mi5Db21wb25lbnQpKTtcblxudmFyIE1haW4gPSBfd3JhcENvbXBvbmVudCgnTWFpbicpKGZ1bmN0aW9uIChfQ29tcG9uZW50NCkge1xuICAgIF9pbmhlcml0cyhNYWluLCBfQ29tcG9uZW50NCk7XG5cbiAgICBmdW5jdGlvbiBNYWluKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblxuICAgICAgICB2YXIgX3RoaXM0ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1haW4uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNYWluKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzNC5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlY29yZExpc3Q6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF90aGlzNDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWFpbiwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMgIT09IG5leHRQcm9wcykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgbm93VGltZSA9IG5ld0RhdGUuZ2V0RnVsbFllYXIoKSArICctJyArIChuZXdEYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IG5leHRQcm9wcy5zdGF0ZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEuYmFsYW5jZV9saXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmZvcm0gPSBkYXRhLmRhdGEuYmFsYW5jZV9saXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGluZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdGF0ZS5yZWNvcmRMaXN0W251bV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09IG5vd1RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnN0YXRlLnJlY29yZExpc3RbbnVtXVsnbW9udGgnXSA9ICfmnKzmnIgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdGF0ZS5yZWNvcmRMaXN0W251bV1bJ21vbnRoJ10gPSBrZXkucmVwbGFjZSgnLScsICflubQnKSArICfmnIgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc3RhdGUucmVjb3JkTGlzdFtudW1dWyd0b3RhbE1vbmV5J10gPSBpbmZvcm1ba2V5XS5tb250aF9tb25leTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc3RhdGUucmVjb3JkTGlzdFtudW1dWydhcHBseUxpc3QnXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9ybVtrZXldLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnN0YXRlLnJlY29yZExpc3RbbnVtXVsnYXBwbHlMaXN0J11baW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGl0ZW0uY3JlYXRlZF9hdC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc3RhdGUucmVjb3JkTGlzdFtudW1dWydhcHBseUxpc3QnXVtpbmRleF1bJ3N0YXJ0VGltZSddID0gc3RhcnRbMF0gKyAnOicgKyBzdGFydFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnN0YXRlLnJlY29yZExpc3RbbnVtXVsnYXBwbHlMaXN0J11baW5kZXhdWydlbmRUaW1lJ10gPSBpdGVtLnRvX2FjY291bnRfdGltZS5zcGxpdCgnICcpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuc3RhdGUucmVjb3JkTGlzdFtudW1dWydhcHBseUxpc3QnXVtpbmRleF1bJ2FwcGx5TW9uZXknXSA9IGl0ZW0ubW9uZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdGF0ZS5yZWNvcmRMaXN0W251bV1bJ2FwcGx5TGlzdCddW2luZGV4XVsnc3RhdHVzJ10gPSBpdGVtLnRvX2FjY291bnRfc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gISh0aGlzLnByb3BzID09PSBuZXh0UHJvcHMpIHx8ICEodGhpcy5zdGF0ZSA9PT0gbmV4dFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2FwcGx5X2NvbnRhaW5lciBjb21wb25lbnRfY29udGFpbmVyJyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9tb2R1bGVzLkhlYWRlciwgeyBnb2JhY2s6IHRydWUsIHRpdGxlOiAnXFx1NjNEMFxcdTczQjBcXHU4QkIwXFx1NUY1NScgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5yZWNvcmRMaXN0Lmxlbmd0aCA+IDAgPyBfcmVhY3QzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChMaXN0LCB7IGxpc3Q6IHRoaXMuc3RhdGUucmVjb3JkTGlzdCB9KSA6IF9yZWFjdDMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnZW1wdHlfaW1nJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0My5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZW1wdHlfdGV4dCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHU3QTc3XFx1OUIzQ1xcdUZGMENcXHU4RkQ4XFx1NEUwRFxcdTVGRUJcXHU1M0JCXFx1NTM1NlxcdThEMjdcXHVGRjAxJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNYWluO1xufShfcmVhY3QyLkNvbXBvbmVudCkpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX21vZHVsZXMudGVtcGxhdGUpKHtcbiAgICBpZDogJ2FwcGx5UmVjb3JkJywgLy/lupTnlKjlhbPogZTkvb/nlKjnmoRyZWR1eFxuICAgIGNvbXBvbmVudDogTWFpbiwgLy/mjqXmlLbmlbDmja7nmoTnu4Tku7blhaXlj6NcbiAgICB1cmw6ICcvYmFsYW5jZS9iYWxhbmNlL2xpc3RzJyxcbiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgICAgICAvL+WPkemAgee7meacjeWKoeWZqOeahOaVsOaNrlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogMjAxNlxuICAgICAgICB9O1xuICAgIH1cbn0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9iYWJlbC1sb2FkZXI/cHJlc2V0c1tdPWVzMjAxNSxwcmVzZXRzW109cmVhY3QhLi9zcmMvQ29tcG9uZW50L2FwcGx5UmVjb3JkLmpzeFxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OyIsInNvdXJjZVJvb3QiOiIifQ==");
}});